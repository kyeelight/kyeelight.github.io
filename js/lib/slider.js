(function(t){t.fn.imgScroll=function(e,i){var a={data:[],template:null,evtType:"click",visible:1,direction:"x",next:"#next",prev:"#prev",disableClass:"disabled",disableClassPerfix:!1,speed:300,step:1,loop:!1,showControl:!1,width:null,height:null,navItems:!1,navItmesWrapClass:"scroll-nav-wrap",navItemActivedClass:"current",status:!1,statusWrapSelector:".scroll-status-wrap"},n=t.extend(a,e);return this.each(function(){function e(t){m>=w+y&&!k?($.addClass(j),b.removeClass(S)):k||b.addClass(S),"left"!==p.eq(0).css("float")&&p.css("float","left"),g=n.width||p.eq(0).outerWidth(),v=n.height||p.eq(0).outerHeight(),f.css({position:"static"==f.css("position")?"relative":f.css("position"),width:"x"==t?g*y:g,height:"x"==t?v:v*y,overflow:"hidden"}),u.css({position:"absolute",width:"x"==t?g*m:g,height:"x"==t?v:v*m,top:0,left:0}),"function"==typeof i&&i.apply(f,[x,C,p.slice(x*w,x*w+y),p.slice(x*w+y-w,x*w+y)])}function a(){m=n.data.length,u=f.find("ul").eq(0),p=u.children("li"),C=Math.ceil((m-y)/w)+1,J=0===(m-y)%w}function s(t){var e={list:t};f.html(B.process(e)),a()}function o(t,e){function a(){k?(O=y>=m-t*w?!0:!1,z=0>=t?!0:!1):(y>=m-t*w?(b.addClass(S),O=!0):(b.removeClass(S),O=!1),0>=t?($.addClass(j),z=!0):($.removeClass(j),z=!1)),(T||P)&&d(t),"function"==typeof i&&i.apply(f,[t,C,p.slice(t*w,t*w+y),p.slice(t*w+y-w,t*w+y)])}if(u.is(":animated"))return!1;if(k)z&&e&&(x=C),O&&!e&&(x=-1),t=e?--x:++x;else{if(z&&e||O&&!e)return!1;t=e?--x:++x}h="x"==_?{left:t>=C-1?-(m-y)*g:-t*w*g}:{top:t>=C-1?-(m-y)*v:-t*w*v},n.speed?u.animate(h,n.speed,a):(u.css(h),a())}function r(e,i){for(var a=N?t("."+e).eq(0):t('<div class="'+e+'"></div>'),n=0;C>n;n++)a.append("<em "+(0===n?" class="+i:"")+' title="'+(n+1)+'">'+(n+1)+"</em>");N||f.after(a)}function l(){var e=E?t(L).eq(0):t('<div class="'+L.replace(".","")+'"></div>');e.html("<b>1</b>/"+C),E||f.after(e)}function d(e){T&&t("."+M).find("em").removeClass(F).eq(e).addClass(F),P&&t(L).html("<b>"+(e+1)+"</b>/"+C)}function c(){$.unbind(I).bind(I,function(){o(x,!0)}),b.unbind(I).bind(I,function(){o(x,!1)})}var h,f=t(this),u=f.find("ul").eq(0),p=u.children("li"),m=p.length,g=null,v=null,b="string"==typeof n.next?t(n.next):n.next,$="string"==typeof n.prev?t(n.prev):n.prev,x=0,w=n.step,y=n.visible,C=Math.ceil((m-y)/w)+1,k=n.loop,_=n.direction,I=n.evtType,A=n.disableClass,j=n.disableClassPerfix?"prev-"+A:A,S=n.disableClassPerfix?"next-"+A:A,T=n.navItems,M=n.navItmesWrapClass,N=t("."+M).length>0,F=n.navItemActivedClass,P=n.status,L=n.statusWrapSelector,E=t(L).length>0,O=!1,z=!0,J=0===(m-y)%w,B=n.template||'<ul>{for slide in list}<li><a href="${slide.href}" target="_blank"><img src="${slide.src}" alt="${slide.alt}" /></a></li>{/for}</ul>';if(n.data.length>0){if(!n.width||!n.height)return!1;s(n.data)}m>y&&y>=w?(e(_),c(),T&&r(M,F),P&&l(L)):(n.showControl?b.add($).show():b.add($).hide(),$.addClass(j),b.addClass(S))})}}(jQuery))